<div class="container d-flex align-items-center justify-content-center min-vh-100">
	<div class="card shadow" style="width: 100%; max-width: 420px;">
		<div class="card-header bg-success text-white text-center">
			<div class="header-with-back">
				<a routerLink="/dashboard" class="btn-back-inline">
					<i class="bi bi-arrow-left"></i>
				</a>
				<h2 class="mb-0">Crear Ingreso</h2>
			</div>
		</div>
		<div class="card-body">
			<form [formGroup]="incomeForm" (ngSubmit)="onSubmit()">
				<div class="mb-3">
					<label for="source" class="form-label">Origen</label>
					<input id="source" formControlName="source" type="text" class="form-control" required />
				</div>
				<div class="mb-3">
					<label for="description" class="form-label">Descripción</label>
					<input id="description" formControlName="description" type="text" class="form-control" required />
				</div>
				<div class="mb-3">
					<label for="amount" class="form-label">Cantidad</label>
					<input id="amount" formControlName="amount" type="number" class="form-control" required min="0.01" step="0.01" />
				</div>
				<div class="mb-3">
					<label for="date" class="form-label">Fecha</label>
					<input id="date" formControlName="date" type="date" class="form-control" required />
				</div>
			<div class="mb-3">
				<label for="categoryId" class="form-label">Categoría</label>
				<select id="categoryId" formControlName="categoryId" class="form-select" required>
					<option value="" disabled selected>Seleccionar categoría</option>
					<option *ngFor="let category of categories" [value]="category.id">{{ category.name }}</option>
				</select>
			</div>
			<button type="submit" class="btn btn-success w-100" [disabled]="incomeForm.invalid || loading || loadingCategories">
					{{ loading ? 'Guardando...' : 'Crear Ingreso' }}
				</button>
			</form>
			<div *ngIf="errorMessage" class="alert alert-danger mt-3">{{ errorMessage }}</div>
			<div *ngIf="successMessage" class="alert alert-success mt-3">{{ successMessage }}</div>
		</div>
	</div>
</div>
